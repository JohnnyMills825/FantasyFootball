---
title: "Fantasy Football Research"
author: "John Miller"
date: "August 5th, 2022"
output: html_notebook
  
---
## About This
 This is a simple statistical analysis and plotting of fantasy football data from the 2021-2022 season. The goal of this is to refresh myself on R before the semester, and primarily to see if there are any trends that I can use to potentially find a good pick for my upcoming fantasy draft. The data is based off of a PPR (Points Per Reception) league.


### Packages and Clean Up

```{r}
# clean up workspace enivronment
rm(list = ls())

# Load Packages
library(mosaic)
library(tidyverse)
library(lubridate)
library(ggplot2)
library(readr)
library(rvest)
library(dplyr)


```

### Loading in the Data Source and Cleaning it

I am using data from ProFootballReference.com, which had their data provided to them by SportRadar.
Note: After figuring out how to get the first row as the header and variable names, I then realized some of the variables had duplicated names (ex. TD being the name of 2 separate columns). I solved this by downloading the janitor package and then naming the data frame after using the janitor package, and it was solved. The last thing I needed to do was rename the variables to make it clear that td_2 actually meant rushing touchdowns.
```{r}
## Cleaned up Data Table, not sure if there was an easier way to do this
web_page <- "https://www.pro-football-reference.com/years/2021/fantasy.htm#fantasy::27"
Tables <- web_page %>%
  read_html() %>%
  html_nodes(css = "table") %>%
  html_table(fill = TRUE)
FF2021 <- Tables[[1]] 
names(FF2021) <- NULL
colnames(FF2021) <- FF2021[1,] 
FF2021Fixed <- FF2021[-c(1),]
FF2021Fixed <- janitor::clean_names(FF2021Fixed)

```


```{r}
## Renaming variables for clarity
## NOTE: Can only run once then get error message 
FF2021Fixed <- FF2021Fixed %>%
  rename("passing att" = "att") %>%
  rename("passing yds" = "yds") %>%
  rename("passing td" = "td") %>%
  rename("rushing att" ="att_2") %>%
  rename("rushing td" = "td_2") %>%
  rename("rushing yds" = "yds_2") %>%
  rename("receiving yds" = "yds_3") %>%
  rename("receiving td" = "td_3") %>%
  rename("total td" = "td_4")



  



```






```{r}
## Inspecting Table
  View(FF2021Fixed)
```



## Run It Back on Runnning Backs?

My first analysis is about the most important position in Fantasy Football : Running Backs. Running Backs are by far the most important picks of your draft, because if you do not get good running backs, you will not have a fun fantasy season. One reason this is true is because of the way a typical fantasy football league operates.

Each teams starting lineup consists of 1 QB, 2 RB, 2 WR, 1 TE, 1 Flex (Either an additional RB, WR, or TE), 1 D/ST (Defense/ Special Teams), and one kicker. The reason the running back position is so important is because you need at least 2 solid ones, and having a good third running back certainly helps, as it can be used as a flex player, or to fill in for one of your other running backs if they are either injured or on their bye week (the team has off for the week, so the players on that team do not play).

The other reason is due to how NFL offenses currently operate. In the current NFL, offenses are more pass-heavy, and usually do not run the ball as much. Also, elite running backs that are used almost every snap are a lot more rare, as running backs are often in committees now, where they will be off the field for a bit to rest, so that they do not wear their body down and start suffering a lot of injuries, which is what happens to running backs who get worked a lot and see loads of touches throughout their career. 

All of this is to say that taking a running back early is normally the way to go, and is why they are normally taken with the first overall pick, and in bunches throughout the first couple rounds of an nfl draft.


```{r}




```



